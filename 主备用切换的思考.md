
设备主备用切换功能的思考 
======

一般的设备主备用切换大多是一用一备，一台设备作为主用设备另外一台作为备用设备。如果是通常不使用PLC的硬接线控制，那么主设备和备用设备是用转换开关来确定的，一旦确定则主备的角色就确定了，如果发生主设备切换到备用设备运行的转换，当主用设备具备工作条件以及备用设备停车后的再次运行，则首先运行的还是主设备。甚至当主设备具备工作条件后会自动切换到主设备运行，备用设备自动停车。

主回路主备用设计是对称的情况下，这样的切换逻辑显然主设备会经常投入运行而备用设备常常工作不饱满，长期工作会造成主设备磨损程度比备用设备严重，常常备用设备生锈了也得不到有效运行，而主设备又快速地达到自己的维修保养期。有经验的维护人员会一段时间后要么对调设备要么把工作方式转换开关切换对调，达到平衡工作时间减少磨损和增加磨合的目的。

如果不是一用一备呢？比如两用一备、三用一备，则合理有效地设计切换逻辑就显得很复杂了。

***

**两用一备**，两个主用设备的功能又有区别：A设备由变频器拖动进行调节，当A设备全速还达不到调节要求时会自动经由软启动器启动B设备，A设备还做变频调速来调节工艺参数。**或者**，当A设备全速运行还达不到调节要求时自动切换到由软启动器拖动全速运行，这时B设备由变频器拖动来进行调节。`显然，后一种方案比较不合理，也不方便主回路设计。`  

## 两用一备切换逻辑 ##

 把AB设备的协同工作看作主用设备，C设备是备用设备。当AB设备中任何一台故障时C设备立刻投入替换故障设备运行。这时故障设备进入维护处理，当故障设备再次具备运行条件时系统把它看成备用设备完成角色互换。

通常这样的设计对于主回路设计来说是个挑战，因为这里用到变频器、软起动器，软启动器还有旁路接触器，并且这些拖动器件只有一台，需要完成三台设备的对称设计。

***

我试图对主备用切换做通用性的思考，勾勒出一般性的框架。

如果三台设备的工作不是上面说的，比如三台设备都有可能同时工作，但设计之初考虑的是大多数时候一台就可满足要求，偶尔出现不满足的时候需要两台设备同时运行以满足要求，那么第三台设备就是备用设备。极特殊情况下有可能三台同时工作。这种情况下由于存在两台设备都做为备用，下次投运的设备是哪台呢？所以有了备用次序的问题。

这种情况，需要设计工作顺序列表，可以设计成队列的结构。初始化时工作队列是ABC，A首先投运，BC顺次作为备用。当不满足条件需要投运备用时B首先投运，此时工作的是AB设备，C作为唯一的备用设备存在。当一轮工作结束可能需要停止运行其中的一台或两台都停车时，首先进入队列的是A，然后是B，这样队列成了CAB。`如果是同时停运，则首先进入队列的应该是B然后是A`,这个需要仔细考虑逻辑的合理性。因为如果是CAB，从首先工作的是A所以A先进队列来看是合适的，但是下次投运A在B之前投运对于B来讲A先投运就不合理了。如果是只停一台设备则无疑是A先进入对列了，成CAB是合理的。

粗略的设计，如果同时停运，则还是需要先停A再停B。比较仔细的设计则看设备的运行时间，时间长的先停运。**或者**，完成一轮工作都停车后再来对顺序队列进行优化或重排，按照当前设备工作时间的长短来排序，时间短的先入队等待先投运，时间长的后入队等待作为备用设备。

***

唉，如果这样的话，不仅设计复杂而且可能得不偿失，用户可能弄不清楚当前的顺序反而增加烦恼。

这样的考虑在无人干预的场合比较适用。